CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT NOT NULL UNIQUE, password TEXT NOT NULL, challenge TEXT, ipv4_address TEXT, ipv6_address TEXT, ipv4_routes TEXT, ipv6_routes TEXT);
CREATE TABLE groups (id INTEGER PRIMARY KEY, name TEXT NOT NULL UNIQUE, ipv4_routes TEXT, ipv6_routes TEXT);
CREATE TABLE users_groups (user_id INTEGER NOT NULL, group_id INTEGER NOT NULL, FOREIGN KEY (user_id) REFERENCES users(id) ON UPDATE CASCADE ON DELETE CASCADE, FOREIGN KEY (group_id) REFERENCES groups(id) ON UPDATE CASCADE ON DELETE CASCADE, PRIMARY KEY (user_id, group_id));
CREATE TABLE subgroups (parent_id INTEGER NOT NULL, child_id INTEGER NOT NULL, FOREIGN KEY (parent_id) REFERENCES groups(id) ON UPDATE CASCADE ON DELETE CASCADE, FOREIGN KEY (child_id) REFERENCES groups(id) ON UPDATE CASCADE ON DELETE CASCADE, PRIMARY KEY (parent_id, child_id));
